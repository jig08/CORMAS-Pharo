tool states
initializeStartEndTool
	"This method was automatically generated by the HotDraw ToolStateMachineEditor.
	To edit this method, evaluate the comment below"
	"| states transitions stateTable |
	states := ((Core.OrderedCollection new) add: (Refactory.HotDraw.ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'Create Origin/Corner Figure'; instVarAt: 3 put: '[:tool :event | 
| figure |
tool cursor: Cursor corner.
figure := (tool valueAt: #class) createAt: (tool cursorPointFor: event).
tool valueAt: #figure put: figure.
tool drawing add: figure.
tool valueAt: #moveBlock put: [:aPoint | figure bottomRight: aPoint]]'; instVarAt: 4 put: (Core.Point x: 139 y: 147); instVarAt: 5 put: false; instVarAt: 6 put: false; yourself); add: (Refactory.HotDraw.ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'Track handle move'; instVarAt: 3 put: '[:tool :event | ]'; instVarAt: 4 put: (Core.Point x: 89 y: 262); instVarAt: 5 put: false; instVarAt: 6 put: true; yourself); add: (Refactory.HotDraw.ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'Cancel Figure Creation'; instVarAt: 3 put: (Text string: '[:tool :event | 
tool drawing remove: (tool valueAt: #figure)]' runs: (Core.RunArray runs: #(62) values: #(nil))); instVarAt: 4 put: (Core.Point x: 298 y: 268); instVarAt: 5 put: true; instVarAt: 6 put: false; yourself); add: (Refactory.HotDraw.ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'Start Tool'; instVarAt: 3 put: '[:tool :event | 
tool valueAt: #class put: CormasNS.Kernel.StartFigure.
tool cursor: Cursor origin]'; instVarAt: 4 put: (Core.Point x: 35 y: 29); instVarAt: 5 put: false; instVarAt: 6 put: false; yourself); add: (Refactory.HotDraw.ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'Menu'; instVarAt: 3 put: '[:tool :event | ]'; instVarAt: 4 put: (Core.Point x: 240 y: 388); instVarAt: 5 put: false; instVarAt: 6 put: true; yourself); add: (Refactory.HotDraw.ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'End Tool'; instVarAt: 3 put: '[:tool :event | 
tool valueAt: #class put: CormasNS.Kernel.EndFigure.
tool cursor: Cursor origin]'; instVarAt: 4 put: (Core.Point x: 295 y: 18); instVarAt: 5 put: false; instVarAt: 6 put: false; yourself); add: (Refactory.HotDraw.ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'returnToInspect'; instVarAt: 3 put: '[:tool :event | tool cursor: Cursor normal. tool controller model activateToolNumber: 1.
]
'; instVarAt: 4 put: (Core.Point x: 229 y: 330); instVarAt: 5 put: false; instVarAt: 6 put: false; yourself); add: (Refactory.HotDraw.ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'Selection Tool'; instVarAt: 3 put: '[:tool :event | ]'; instVarAt: 4 put: (Core.Point x: 396 y: 372); instVarAt: 5 put: true; instVarAt: 6 put: true; yourself); yourself).
	stateTable := Dictionary new.
	states do: [:each | stateTable at: each name put: each].

	transitions := OrderedCollection new.
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'Create Origin/Corner Figure'); to: (stateTable at: 'Track handle move'); type: (Refactory.HotDraw.TransitionType basicNew instVarAt: 1 put: #mouseMove; yourself); points: ((Core.OrderedCollection new) add: (Core.Point x: 214.311 y: 178.587); add: (Core.Point x: 175.555 y: 262.1); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'Create Origin/Corner Figure'); to: (stateTable at: 'Cancel Figure Creation'); type: (Refactory.HotDraw.TransitionType basicNew instVarAt: 1 put: #redButtonRelease; yourself); points: ((Core.OrderedCollection new) add: (Core.Point x: 243.878 y: 178.592); add: (Core.Point x: 351.147 y: 267.295); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'Start Tool'); to: (stateTable at: 'Create Origin/Corner Figure'); type: (Refactory.HotDraw.TransitionType basicNew instVarAt: 1 put: #redButtonPress; yourself); points: ((Core.OrderedCollection new) add: (Core.Point x: 85.5699 y: 58.6358); add: (Core.Point x: 199.212 y: 146.081); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'Start Tool'); to: (stateTable at: 'Menu'); type: (Refactory.HotDraw.TransitionType basicNew instVarAt: 1 put: #yellowButtonPress; yourself); points: ((Core.OrderedCollection new) add: (Core.Point x: 70.4054 y: 60.8591); add: (Core.Point x: 67 y: 330); add: (Core.Point x: 249.687 y: 389.227); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'End Tool'); to: (stateTable at: 'Create Origin/Corner Figure'); type: (Refactory.HotDraw.TransitionType basicNew instVarAt: 1 put: #redButtonPress; yourself); points: ((Core.OrderedCollection new) add: (Core.Point x: 319.349 y: 49.7596); add: (Core.Point x: 236.656 y: 146.234); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'End Tool'); to: (stateTable at: 'Menu'); type: (Refactory.HotDraw.TransitionType basicNew instVarAt: 1 put: #yellowButtonPress; yourself); points: ((Core.OrderedCollection new) add: (Core.Point x: 356.719 y: 29.7335); add: (Core.Point x: 376 y: 32); add: (Core.Point x: 391 y: 45); add: (Core.Point x: 415 y: 54); add: (Core.Point x: 454 y: 189); add: (Core.Point x: 464 y: 223); add: (Core.Point x: 462 y: 324); add: (Core.Point x: 278.924 y: 393.762); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'Track handle move'); to: (stateTable at: 'returnToInspect'); type: (Refactory.HotDraw.TransitionType basicNew instVarAt: 1 put: #redButtonRelease; yourself); points: ((Core.OrderedCollection new) add: (Core.Point x: 176.436 y: 292.747); add: (Core.Point x: 262.287 y: 329.341); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'returnToInspect'); to: (stateTable at: 'Selection Tool'); type: (Refactory.HotDraw.TransitionType basicNew instVarAt: 1 put: #immediate; yourself); points: ((Core.OrderedCollection new) add: (Core.Point x: 320.104 y: 354.906); add: (Core.Point x: 405.244 y: 377.274); yourself); yourself).
	ToolStateMachineEditor openWithStates: states connections: transitions"
	
	Tool states
		at: 'Create Origin/Corner Figure'
		put:
			(ToolState
				name: 'Create Origin/Corner Figure'
				command:
					[:tool :event | 
					| figure |
					tool cursor: Cursor corner.
					figure := (tool valueAt: #class)
						createAt: (tool cursorPointFor: event).
					tool valueAt: #figure put: figure.
					tool drawing add: figure.
					tool
						valueAt: #moveBlock
						put: [:aPoint | figure bottomRight: aPoint]]).
	Tool states
		at: 'Cancel Figure Creation'
		put:
			(EndToolState
				name: 'Cancel Figure Creation'
				command: [:tool :event | tool drawing remove: (tool valueAt: #figure)]).
	Tool states
		at: 'Start Tool'
		put:
			(ToolState
				name: 'Start Tool'
				command:
					[:tool :event | 
					tool valueAt: #class put: StartFigure.
					tool cursor: Cursor origin]).
	Tool states
		at: 'End Tool'
		put:
			(ToolState
				name: 'End Tool'
				command:
					[:tool :event | 
					tool valueAt: #class put: EndFigure.
					tool cursor: Cursor origin]).
	Tool states
		at: 'returnToInspect'
		put:
			(ToolState
				name: 'returnToInspect'
				command:
					[:tool :event | 
					tool cursor: Cursor normal.
					tool controller model activateToolNumber: 1]).
	(Tool stateFor: 'End Tool')
		yellowButtonPress:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'Menu');
				yourself).
	(Tool stateFor: 'End Tool')
		redButtonPress:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'Create Origin/Corner Figure');
				yourself).
	(Tool stateFor: 'Track handle move')
		redButtonRelease:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'returnToInspect');
				yourself).
	(Tool stateFor: 'returnToInspect')
		immediate:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'Selection Tool');
				yourself).
	(Tool stateFor: 'Create Origin/Corner Figure')
		redButtonRelease:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'Cancel Figure Creation');
				yourself).
	(Tool stateFor: 'Create Origin/Corner Figure')
		mouseMove:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'Track handle move');
				yourself).
	(Tool stateFor: 'Start Tool')
		yellowButtonPress:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'Menu');
				yourself).
	(Tool stateFor: 'Start Tool')
		redButtonPress:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'Create Origin/Corner Figure');
				yourself)