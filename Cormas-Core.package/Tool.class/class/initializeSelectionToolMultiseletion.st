tool states
initializeSelectionToolMultiseletion
	"This method was automatically generated by the HotDraw ToolStateMachineEditor.
	To edit this method, evaluate the comment below"
	"| states transitions stateTable |
	states := ((OrderedCollection new) add: (ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'Selection Tool Multi-select'; instVarAt: 3 put: (Text string: '[:tool :event | 
| point |
point := tool cursorPointFor: event.
tool valueAt: #initialPoint put: point;
	valueAt: #lastPoint put: point]' runs: (RunArray runs: #(136) values: #(nil))); instVarAt: 4 put: (Point x: 16 y: 45); instVarAt: 5 put: false; instVarAt: 6 put: false; yourself); add: (ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'multi-selection move'; instVarAt: 3 put: (Text string: '[:tool :event | 
| gc newPoint origin |
origin := tool valueAt: #initialPoint.
tool drawing
	invalidateRectangle: (Rectangle vertex: origin vertex: (tool valueAt: #lastPoint))
	repairNow: true.
gc := tool drawing graphicsContext.
newPoint := tool cursorPointFor: event.
gc displayRectangularBorder: (Rectangle vertex: origin vertex: newPoint).
tool valueAt: #lastPoint put: newPoint]' runs: (RunArray runs: #(383) values: #(nil))); instVarAt: 4 put: (Point x: 135 y: 156); instVarAt: 5 put: false; instVarAt: 6 put: false; yourself); add: (ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'multi-selection release'; instVarAt: 3 put: (Text string: '[:tool :event | 
| origin lastPoint rect figures |
origin := tool valueAt: #initialPoint.
lastPoint := tool valueAt: #lastPoint.
rect := Rectangle vertex: origin vertex: lastPoint.
tool drawing invalidateRectangle: rect.
figures := tool drawing figuresIn: rect.
tool sensor shiftDown 
	ifTrue: [tool drawing toggleSelections: figures] 
	ifFalse: [tool drawing selections: figures]]' runs: (RunArray runs: #(381) values: #(nil))); instVarAt: 4 put: (Point x: 35 y: 332); instVarAt: 5 put: true; instVarAt: 6 put: false; yourself); yourself).
	stateTable := Dictionary new.
	states do: [:each | stateTable at: each name put: each].

	transitions := OrderedCollection new.
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'Selection Tool Multi-select'); to: (stateTable at: 'multi-selection move'); type: (TransitionType basicNew instVarAt: 1 put: #mouseMove; yourself); points: ((OrderedCollection new) add: (Point x: 109 y: 75); add: (Point x: 184 y: 156); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'multi-selection move'); to: (stateTable at: 'multi-selection move'); type: (TransitionType basicNew instVarAt: 1 put: #mouseMove; yourself); points: ((OrderedCollection new) add: (Point x: 245 y: 160); add: (Point x: 323 y: 143); add: (Point x: 323 y: 163); add: (Point x: 261 y: 167); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'multi-selection move'); to: (stateTable at: 'multi-selection release'); type: (TransitionType basicNew instVarAt: 1 put: #redButtonRelease; yourself); points: ((OrderedCollection new) add: (Point x: 190 y: 186); add: (Point x: 111 y: 332); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'Selection Tool Multi-select'); to: (stateTable at: 'multi-selection release'); type: (TransitionType basicNew instVarAt: 1 put: #redButtonRelease; yourself); points: ((OrderedCollection new) add: (Point x: 97 y: 76); add: (Point x: 104 y: 332); yourself); yourself).
	ToolStateMachineEditor openWithStates: states connections: transitions"
	
	Tool states
		at: 'Selection Tool Multi-select'
		put:
			(ToolState
				name: 'Selection Tool Multi-select'
				command:
					[:tool :event | 
					| point |
					point := tool cursorPointFor: event.
					tool
						valueAt: #initialPoint put: point;
						valueAt: #lastPoint put: point]).
	Tool states
		at: 'multi-selection move'
		put:
			(ToolState
				name: 'multi-selection move'
				command:
					[:tool :event | 
					| gc newPoint origin |
					origin := tool valueAt: #initialPoint.
					tool drawing
						invalidateRectangle:
							(Rectangle
								vertex: origin
								vertex: (tool valueAt: #lastPoint))
						repairNow: true.
					gc := tool drawing graphicsContext.
					newPoint := tool cursorPointFor: event.
					gc
						displayRectangularBorder: (Rectangle vertex: origin vertex: newPoint).
					tool valueAt: #lastPoint put: newPoint]).
	Tool states
		at: 'multi-selection release'
		put:
			(EndToolState
				name: 'multi-selection release'
				command:
					[:tool :event | 
					| origin lastPoint rect figures |
					origin := tool valueAt: #initialPoint.
					lastPoint := tool valueAt: #lastPoint.
					rect := Rectangle vertex: origin vertex: lastPoint.
					tool drawing invalidateRectangle: rect.
					figures := tool drawing figuresIn: rect.
					tool sensor shiftDown
						ifTrue: [tool drawing toggleSelections: figures]
						ifFalse: [tool drawing selections: figures]]).
	(Tool stateFor: 'Selection Tool Multi-select')
		redButtonRelease:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'multi-selection release');
				yourself).
	(Tool stateFor: 'Selection Tool Multi-select')
		mouseMove:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'multi-selection move');
				yourself).
	(Tool stateFor: 'multi-selection move')
		redButtonRelease:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'multi-selection release');
				yourself).
	(Tool stateFor: 'multi-selection move')
		mouseMove:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'multi-selection move');
				yourself)