tool states
initializeBezierTool
	"This method was automatically generated by the HotDraw ToolStateMachineEditor.
	To edit this method, evaluate the comment below"
	"| states transitions stateTable |
	states := ((OrderedCollection new) add: (ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'End bezier line'; instVarAt: 3 put: (Text string: '[:tool :event | 
| figure diff |
figure := tool valueAt: #figure.
diff := (figure pointAt: 4) - (figure pointAt: 1).
figure pointAt: 2 put: diff / 3.0 + (figure pointAt: 1);
		pointAt: 3 put: diff * 2 / 3.0 + (figure pointAt: 1)]' runs: (RunArray runs: #(229) values: #(nil))); instVarAt: 4 put: (Point x: 266 y: 345); instVarAt: 5 put: true; instVarAt: 6 put: false; yourself); add: (ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'Bezier Tool'; instVarAt: 3 put: (Text string: '[:tool :event | tool cursor: Cursor crossHair]' runs: (RunArray runs: #(46) values: #(nil))); instVarAt: 4 put: (Point x: 225 y: 20); instVarAt: 5 put: false; instVarAt: 6 put: false; yourself); add: (ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'Pressed Bezier Tool'; instVarAt: 3 put: (Text string: '[:tool :event | 
| figure point |
point := tool cursorPointFor: event.
figure := BezierFigure start: point stop: point.
tool valueAt: #figure put: figure.
tool drawing add: figure]' runs: (RunArray runs: #(180) values: #(nil))); instVarAt: 4 put: (Point x: 195 y: 121); instVarAt: 5 put: false; instVarAt: 6 put: false; yourself); add: (ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'Move Bezier Tool'; instVarAt: 3 put: (Text string: '[:tool :event | 
(tool valueAt: #figure) stopPoint: (tool cursorPointFor: event)]' runs: (RunArray runs: #(81) values: #(nil))); instVarAt: 4 put: (Point x: 102 y: 218); instVarAt: 5 put: false; instVarAt: 6 put: false; yourself); add: (ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'Cancel Figure Creation'; instVarAt: 3 put: '[:tool :event | ]'; instVarAt: 4 put: (Point x: 310 y: 249); instVarAt: 5 put: false; instVarAt: 6 put: true; yourself); add: (ToolStateModel basicNew instVarAt: 1 put: nil; instVarAt: 2 put: 'Menu'; instVarAt: 3 put: '[:tool :event | ]'; instVarAt: 4 put: (Point x: 48 y: 99); instVarAt: 5 put: false; instVarAt: 6 put: true; yourself); yourself).
	stateTable := Dictionary new.
	states do: [:each | stateTable at: each name put: each].

	transitions := OrderedCollection new.
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'Bezier Tool'); to: (stateTable at: 'Pressed Bezier Tool'); type: (TransitionType basicNew instVarAt: 1 put: #redButtonPress; yourself); points: ((OrderedCollection new) add: (Point x: 261 y: 51); add: (Point x: 258 y: 121); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'Move Bezier Tool'); to: (stateTable at: 'End bezier line'); type: (TransitionType basicNew instVarAt: 1 put: #redButtonRelease; yourself); points: ((OrderedCollection new) add: (Point x: 174 y: 248); add: (Point x: 296 y: 346); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'Pressed Bezier Tool'); to: (stateTable at: 'Move Bezier Tool'); type: (TransitionType basicNew instVarAt: 1 put: #mouseMove; yourself); points: ((OrderedCollection new) add: (Point x: 235 y: 151); add: (Point x: 171 y: 218); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'Move Bezier Tool'); to: (stateTable at: 'Move Bezier Tool'); type: (TransitionType basicNew instVarAt: 1 put: #mouseMove; yourself); points: ((OrderedCollection new) add: (Point x: 102 y: 232); add: (Point x: 50 y: 249); add: (Point x: 45 y: 273); add: (Point x: 96 y: 273); add: (Point x: 132 y: 248); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'Pressed Bezier Tool'); to: (stateTable at: 'Cancel Figure Creation'); type: (TransitionType basicNew instVarAt: 1 put: #redButtonRelease; yourself); points: ((OrderedCollection new) add: (Point x: 281 y: 151); add: (Point x: 368 y: 249); yourself); yourself).
	transitions add: (ToolStateTransitionModel new from: (stateTable at: 'Bezier Tool'); to: (stateTable at: 'Menu'); type: (TransitionType basicNew instVarAt: 1 put: #yellowButtonPress; yourself); points: ((OrderedCollection new) add: (Point x: 225 y: 36); add: (Point x: 82 y: 102); yourself); yourself).
	ToolStateMachineEditor openWithStates: states connections: transitions"
	
	Tool states
		at: 'End bezier line'
		put:
			(EndToolState
				name: 'End bezier line'
				command:
					[:tool :event | 
					| figure diff |
					figure := tool valueAt: #figure.
					diff := (figure pointAt: 4) - (figure pointAt: 1).
					figure
						pointAt: 2
							put: diff / 3.0 + (figure pointAt: 1);
						pointAt: 3
							put: diff * 2 / 3.0 + (figure pointAt: 1)]).
	Tool states
		at: 'Bezier Tool'
		put:
			(ToolState
				name: 'Bezier Tool'
				command: [:tool :event | tool cursor: Cursor crossHair]).
	Tool states
		at: 'Pressed Bezier Tool'
		put:
			(ToolState
				name: 'Pressed Bezier Tool'
				command:
					[:tool :event | 
					| figure point |
					point := tool cursorPointFor: event.
					figure := BezierFigure start: point stop: point.
					tool valueAt: #figure put: figure.
					tool drawing add: figure]).
	Tool states
		at: 'Move Bezier Tool'
		put:
			(ToolState
				name: 'Move Bezier Tool'
				command:
					[:tool :event | (tool valueAt: #figure) stopPoint: (tool cursorPointFor: event)]).
	(Tool stateFor: 'Move Bezier Tool')
		redButtonRelease:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'End bezier line');
				yourself).
	(Tool stateFor: 'Move Bezier Tool')
		mouseMove:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'Move Bezier Tool');
				yourself).
	(Tool stateFor: 'Bezier Tool')
		redButtonPress:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'Pressed Bezier Tool');
				yourself).
	(Tool stateFor: 'Bezier Tool')
		yellowButtonPress:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'Menu');
				yourself).
	(Tool stateFor: 'Pressed Bezier Tool')
		redButtonRelease:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'Cancel Figure Creation');
				yourself).
	(Tool stateFor: 'Pressed Bezier Tool')
		mouseMove:
			((SimpleTransitionTable new)
				goto: (Tool stateFor: 'Move Bezier Tool');
				yourself)