compiling
defineGetterMethod: attributName ofClass: aClass withDefaultValue: defaultValue protocol: protocol
	"Build the getter accessor method code with defaultValue

ex: self defineGetterMethod: 'bidon' ofClass: Agent withDefaultValue: 22 protocol: 'accessing'  		
then, the code will be:
bidon
	''Getter accessor with default value = 22 '
	!! Code automaticaly generated by Cormas !!''  
	^bidon ifNil:[bidon := 22]

attributName = <String> 
aClass = <Class> 
defaultValue = <Object> 
protocol = <String> "
	
	| code defaultValueString theClass |
	theClass := aClass isMeta
		ifTrue: [aClass instanceBehavior]
		ifFalse: [aClass].
	(theClass hasRandomAttribute: attributName)
		ifTrue:
			[aClass isMeta
				ifTrue:
					[(aClass instanceBehavior isRandomAttribute: attributName scopeLevel:
							#class)
						ifTrue:
							[^self defineGetterMethod: attributName ofClass: aClass withRandom:
									defaultValue protocol: protocol]]
				ifFalse:
					[(aClass isRandomAttribute: attributName scopeLevel: #instance)
						ifTrue:
							[^self defineGetterMethod: attributName ofClass: aClass withRandom:
									defaultValue protocol: protocol]]].
	defaultValue isNil
		ifTrue:
			[code := (attributName , '\	"Getter accessor without default value.\'
				, Cormas automaticCommentString , '"\	^' , attributName) withCRs]
		ifFalse:
			[defaultValueString := self transformAsString: defaultValue.
			code := (attributName , '\	"Getter accessor with default value = ' ,
					defaultValueString , '.\' , Cormas automaticCommentString , '"\	^' ,
					attributName , ' ifNil:[' , attributName , ' := ' , defaultValueString
				, ']') withCRs].
	aClass
		compile: code
		classified: protocol asString
		notifying: nil